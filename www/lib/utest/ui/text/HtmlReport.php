<?php
/**
 * Generated by Haxe 4.0.0-rc.1+1fdd3d5
 */

namespace utest\ui\text;

use \utest\ui\common\ClassResult;
use \php\_Boot\HxAnon;
use \utest\ui\common\ReportTools;
use \php\Boot;
use \utest\ui\common\PackageResult;
use \utest\Runner;
use \utest\ui\common\ResultAggregator;
use \utest\ui\common\FixtureResult;
use \haxe\CallStack;
use \haxe\Log;
use \utest\ui\common\ResultStats;
use \utest\ui\common\SuccessResultsDisplayMode;
use \utest\ui\common\IReport;
use \utest\ui\common\HeaderDisplayMode;
use \php\_Boot\HxString;

class HtmlReport implements IReport {
	/**
	 * @var string
	 */
	static public $platform = "php";

	/**
	 * @var float
	 */
	public $_traceTime;
	/**
	 * @var \Array_hx
	 */
	public $_traces;
	/**
	 * @var ResultAggregator
	 */
	public $aggregator;
	/**
	 * @var HeaderDisplayMode
	 */
	public $displayHeader;
	/**
	 * @var SuccessResultsDisplayMode
	 */
	public $displaySuccessResults;
	/**
	 * @var \Closure
	 */
	public $handler;
	/**
	 * @var mixed
	 */
	public $oldTrace;
	/**
	 * @var PackageResult
	 */
	public $result;
	/**
	 * @var float
	 */
	public $startTime;
	/**
	 * @var bool
	 */
	public $traceRedirected;

	/**
	 * @param Runner $runner
	 * @param \Closure $outputHandler
	 * @param bool $traceRedirected
	 * 
	 * @return void
	 */
	public function __construct ($runner, $outputHandler = null, $traceRedirected = true) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:41: lines 41-53
		if ($traceRedirected === null) {
			$traceRedirected = true;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:42: characters 5-52
		$this->aggregator = new ResultAggregator($runner, true);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:43: characters 5-30
		$runner->onStart->add(Boot::getInstanceClosure($this, 'start'));
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:44: characters 5-40
		$this->aggregator->onComplete->add(Boot::getInstanceClosure($this, 'complete'));
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:45: lines 45-48
		if (null === $outputHandler) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:46: characters 7-27
			$this->setHandler(Boot::getInstanceClosure($this, '_handler'));
		} else {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:48: characters 7-32
			$this->setHandler($outputHandler);
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:49: lines 49-50
		if ($traceRedirected) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:50: characters 7-22
			$this->redirectTrace();
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:51: characters 5-53
		$this->displaySuccessResults = SuccessResultsDisplayMode::AlwaysShowSuccessResults();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:52: characters 5-37
		$this->displayHeader = HeaderDisplayMode::AlwaysShowHeader();
	}

	/**
	 * @param HtmlReport $report
	 * 
	 * @return void
	 */
	public function _handler ($report) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:712: characters 5-47
		\Sys::stdout()->writeString($report->getHtml());
	}

	/**
	 * @param mixed $v
	 * @param object $infos
	 * 
	 * @return void
	 */
	public function _trace ($v, $infos = null) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:74: characters 5-30
		$time = microtime(true);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:75: characters 5-60
		$delta = ($this->_traceTime === null ? 0 : $time - $this->_traceTime);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:76: lines 76-82
		$_this = $this->_traces;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:77: characters 13-50
		$s = \Std::string($v);
		$x = null;
		if (!null) {
			$x = ENT_NOQUOTES;
		}
		$x1 = htmlspecialchars($s, $x);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:79: characters 14-30
		$x2 = $time - $this->startTime;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:76: lines 76-82
		$x3 = new HxAnon([
			"msg" => $x1,
			"infos" => $infos,
			"time" => $x2,
			"delta" => $delta,
			"stack" => CallStack::callStack(),
		]);
		$_this->arr[$_this->length] = $x3;
		++$_this->length;

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:83: characters 5-31
		$this->_traceTime = microtime(true);
	}

	/**
	 * @param \StringBuf $buf
	 * @param ClassResult $result
	 * @param string $name
	 * @param bool $isOk
	 * 
	 * @return void
	 */
	public function addClass ($buf, $result, $name, $isOk) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:254: characters 5-52
		if (ReportTools::skipResult($this, $result->stats, $isOk)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:254: characters 46-52
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:255: characters 5-20
		$buf->add("<li>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:256: characters 5-55
		$buf->add("<h2 class=\"classname\">" . ($name??'null') . "</h2>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:257: characters 5-36
		$this->blockNumbers($buf, $result->stats);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:258: characters 5-22
		$buf->add("<ul>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:259: lines 259-261
		$_g = 0;
		$_g1 = $result->methodNames();
		while ($_g < $_g1->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:259: characters 10-15
			$mname = ($_g1->arr[$_g] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:259: lines 259-261
			++$_g;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:260: characters 7-54
			$this->addFixture($buf, $result->get($mname), $mname, $isOk);
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:262: characters 5-23
		$buf->add("</ul>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:263: characters 5-23
		$buf->add("</li>\x0A");
	}

	/**
	 * @param \StringBuf $buf
	 * @param FixtureResult $result
	 * @param string $name
	 * @param bool $isOk
	 * 
	 * @return void
	 */
	public function addFixture ($buf, $result, $name, $isOk) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:167: characters 5-52
		if (ReportTools::skipResult($this, $result->stats, $isOk)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:167: characters 46-52
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:168: characters 5-52
		$buf->add("<li class=\"fixture\"><div class=\"li\">");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:169: characters 5-72
		$buf->add("<span class=\"" . ($this->cls($result->stats)??'null') . "bg fixtureresult\">");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:170: lines 170-178
		if ($result->stats->isOk) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:171: characters 7-21
			$buf->add("OK ");
		} else if ($result->stats->hasErrors) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:173: characters 7-24
			$buf->add("ERROR ");
		} else if ($result->stats->hasFailures) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:175: characters 7-26
			$buf->add("FAILURE ");
		} else if ($result->stats->hasWarnings) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:177: characters 7-26
			$buf->add("WARNING ");
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:179: characters 5-23
		$buf->add("</span>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:180: characters 5-44
		$buf->add("<div class=\"fixturedetails\">");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:181: characters 5-45
		$buf->add("<strong>" . ($name??'null') . "</strong>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:182: characters 5-18
		$buf->add(": ");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:183: characters 5-37
		$this->resultNumbers($buf, $result->stats);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:184: characters 5-23
		$messages = new \Array_hx();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:185: lines 185-206
		$_g = $result->iterator();
		while ($_g->head !== null) {
			$val = $_g->head->item;
			$_g->head = $_g->head->next;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:186: lines 186-205
			$__hx__switch = ($val->index);
			if ($__hx__switch === 0) {
			} else if ($__hx__switch === 1) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:189: characters 80-107
				$x = null;
				if (!null) {
					$x = ENT_NOQUOTES;
				}
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:189: characters 11-118
				$x1 = "<strong>line " . ($val->params[1]->lineNumber??'null') . "</strong>: <em>" . (htmlspecialchars($val->params[0], $x)??'null') . "</em>";
				$messages->arr[$messages->length] = $x1;
				++$messages->length;
			} else if ($__hx__switch === 2) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:190: characters 20-21
				$e = $val->params[0];
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:191: characters 11-143
				$x2 = "<strong>error</strong>: <em>" . ($this->getErrorDescription($e)??'null') . "</em>\x0A<br/><strong>stack</strong>:" . ($this->getErrorStack($val->params[1], $e)??'null');
				$messages->arr[$messages->length] = $x2;
				++$messages->length;

			} else if ($__hx__switch === 3) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:192: characters 25-26
				$e1 = $val->params[0];
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:193: characters 11-140
				$x3 = "<strong>setup error</strong>: " . ($this->getErrorDescription($e1)??'null') . "\x0A<br/><strong>stack</strong>:" . ($this->getErrorStack($val->params[1], $e1)??'null');
				$messages->arr[$messages->length] = $x3;
				++$messages->length;

			} else if ($__hx__switch === 4) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:194: characters 28-29
				$e2 = $val->params[0];
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:195: characters 11-144
				$x4 = "<strong>tear-down error</strong>: " . ($this->getErrorDescription($e2)??'null') . "\x0A<br/><strong>stack</strong>:" . ($this->getErrorStack($val->params[1], $e2)??'null');
				$messages->arr[$messages->length] = $x4;
				++$messages->length;

			} else if ($__hx__switch === 5) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:197: characters 11-82
				$messages->arr[$messages->length] = "<strong>missed async call(s)</strong>: " . ($val->params[0]??'null');
				++$messages->length;
			} else if ($__hx__switch === 6) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:198: characters 25-26
				$e3 = $val->params[0];
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:199: characters 11-140
				$x5 = "<strong>async error</strong>: " . ($this->getErrorDescription($e3)??'null') . "\x0A<br/><strong>stack</strong>:" . ($this->getErrorStack($val->params[1], $e3)??'null');
				$messages->arr[$messages->length] = $x5;
				++$messages->length;

			} else if ($__hx__switch === 7) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:201: characters 25-52
				$x6 = null;
				if (!null) {
					$x6 = ENT_NOQUOTES;
				}
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:201: characters 11-53
				$x7 = htmlspecialchars($val->params[0], $x6);
				$messages->arr[$messages->length] = $x7;
				++$messages->length;
			} else if ($__hx__switch === 8) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:203: characters 25-55
				$x8 = null;
				if (!null) {
					$x8 = ENT_NOQUOTES;
				}
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:203: characters 11-56
				$x9 = htmlspecialchars($val->params[0], $x8);
				$messages->arr[$messages->length] = $x9;
				++$messages->length;
			}
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:207: lines 207-212
		if ($messages->length > 0) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:209: characters 7-42
			$buf->add("<div class=\"testoutput\">");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:210: characters 7-38
			$buf->add($messages->join("<br/>"));
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:211: characters 7-26
			$buf->add("</div>\x0A");
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:213: characters 5-24
		$buf->add("</div>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:214: characters 5-29
		$buf->add("</div></li>\x0A");
	}

	/**
	 * @param \StringBuf $buf
	 * @param PackageResult $result
	 * @param string $name
	 * @param bool $isOk
	 * 
	 * @return void
	 */
	public function addPackage ($buf, $result, $name, $isOk) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:276: characters 5-52
		if (ReportTools::skipResult($this, $result->stats, $isOk)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:276: characters 46-52
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:277: characters 5-62
		if (($name === "") && ($result->classNames()->length === 0)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:277: characters 56-62
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:278: characters 5-20
		$buf->add("<li>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:279: characters 5-37
		$buf->add("<h2>" . ($name??'null') . "</h2>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:280: characters 5-36
		$this->blockNumbers($buf, $result->stats);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:281: characters 5-22
		$buf->add("<ul>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:282: lines 282-283
		$_g = 0;
		$_g1 = $result->classNames();
		while ($_g < $_g1->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:282: characters 10-15
			$cname = ($_g1->arr[$_g] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:282: lines 282-283
			++$_g;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:283: characters 7-57
			$this->addClass($buf, $result->getClass($cname), $cname, $isOk);
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:284: characters 5-23
		$buf->add("</ul>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:285: characters 5-23
		$buf->add("</li>\x0A");
	}

	/**
	 * @param \StringBuf $buf
	 * @param PackageResult $result
	 * @param bool $isOk
	 * 
	 * @return void
	 */
	public function addPackages ($buf, $result, $isOk) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:267: characters 5-52
		if (ReportTools::skipResult($this, $result->stats, $isOk)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:267: characters 46-52
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:268: characters 5-50
		$buf->add("<ul id=\"utest-results-packages\">\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:269: lines 269-271
		$_g = 0;
		$_g1 = $result->packageNames(false);
		while ($_g < $_g1->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:269: characters 10-14
			$name = ($_g1->arr[$_g] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:269: lines 269-271
			++$_g;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:270: characters 7-59
			$this->addPackage($buf, $result->getPackage($name), $name, $isOk);
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:272: characters 5-23
		$buf->add("</ul>\x0A");
	}

	/**
	 * @param \StringBuf $buf
	 * @param ResultStats $stats
	 * 
	 * @return void
	 */
	public function blockNumbers ($buf, $stats) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:135: characters 5-62
		$buf->add("<div class=\"" . ($this->cls($stats)??'null') . "bg statnumbers\">");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:136: characters 5-30
		$this->resultNumbers($buf, $stats);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:137: characters 5-22
		$buf->add("</div>");
	}

	/**
	 * @param ResultStats $stats
	 * 
	 * @return string
	 */
	public function cls ($stats) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:91: lines 91-98
		if ($stats->hasErrors) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:92: characters 7-21
			return "error";
		} else if ($stats->hasFailures) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:94: characters 7-23
			return "failure";
		} else if ($stats->hasWarnings) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:96: characters 7-20
			return "warn";
		} else {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:98: characters 7-18
			return "ok";
		}
	}

	/**
	 * @param PackageResult $result
	 * 
	 * @return void
	 */
	public function complete ($result) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:442: characters 5-16
		$this->result = $result;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:443: characters 5-18
		($this->handler)($this);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:444: characters 5-19
		$this->restoreTrace();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:448: characters 17-33
		$this->getTextResults();
	}

	/**
	 * @return string
	 */
	public function cssStyle () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:464: lines 464-669
		return "body, dd, dt {\x0A  font-family: Verdana, Arial, Sans-serif;\x0A  font-size: 12px;\x0A}\x0Adl {\x0A  width: 180px;\x0A}\x0Add, dt {\x0A  margin : 0;\x0A  padding : 2px 5px;\x0A  border-top: 1px solid #f0f0f0;\x0A  border-left: 1px solid #f0f0f0;\x0A  border-right: 1px solid #CCCCCC;\x0A  border-bottom: 1px solid #CCCCCC;\x0A}\x0Add.value {\x0A  text-align: center;\x0A  background-color: #eeeeee;\x0A}\x0Adt {\x0A  text-align: left;\x0A  background-color: #e6e6e6;\x0A  float: left;\x0A  width: 100px;\x0A}\x0A\x0Ah1, h2, h3, h4, h5, h6 {\x0A  margin: 0;\x0A  padding: 0;\x0A}\x0A\x0Ah1 {\x0A  text-align: center;\x0A  font-weight: bold;\x0A  padding: 5px 0 4px 0;\x0A  font-family: Arial, Sans-serif;\x0A  font-size: 18px;\x0A  border-top: 1px solid #f0f0f0;\x0A  border-left: 1px solid #f0f0f0;\x0A  border-right: 1px solid #CCCCCC;\x0A  border-bottom: 1px solid #CCCCCC;\x0A  margin: 0 2px 0px 2px;\x0A}\x0A\x0Ah2 {\x0A  font-weight: bold;\x0A  padding: 2px 0 2px 8px;\x0A  font-family: Arial, Sans-serif;\x0A  font-size: 13px;\x0A  border-top: 1px solid #f0f0f0;\x0A  border-left: 1px solid #f0f0f0;\x0A  border-right: 1px solid #CCCCCC;\x0A  border-bottom: 1px solid #CCCCCC;\x0A  margin: 0 0 0px 0;\x0A  background-color: #FFFFFF;\x0A  color: #777777;\x0A}\x0A\x0Ah2.classname {\x0A  color: #000000;\x0A}\x0A\x0A.okbg {\x0A  background-color: #66FF55;\x0A}\x0A.errorbg {\x0A  background-color: #CC1100;\x0A}\x0A.failurebg {\x0A  background-color: #EE3322;\x0A}\x0A.warnbg {\x0A  background-color: #FFCC99;\x0A}\x0A.headerinfo {\x0A  text-align: right;\x0A  font-size: 11px;\x0A  font - color: 0xCCCCCC;\x0A  margin: 0 2px 5px 2px;\x0A  border-left: 1px solid #f0f0f0;\x0A  border-right: 1px solid #CCCCCC;\x0A  border-bottom: 1px solid #CCCCCC;\x0A  padding: 2px;\x0A}\x0A\x0Ali {\x0A  padding: 4px;\x0A  margin: 2px;\x0A  border-top: 1px solid #f0f0f0;\x0A  border-left: 1px solid #f0f0f0;\x0A  border-right: 1px solid #CCCCCC;\x0A  border-bottom: 1px solid #CCCCCC;\x0A  background-color: #e6e6e6;\x0A}\x0A\x0Ali.fixture {\x0A  background-color: #f6f6f6;\x0A  padding-bottom: 6px;\x0A}\x0A\x0Adiv.fixturedetails {\x0A  padding-left: 108px;\x0A}\x0A\x0Aul {\x0A  padding: 0;\x0A  margin: 6px 0 0 0;\x0A  list-style-type: none;\x0A}\x0A\x0Aol {\x0A  padding: 0 0 0 28px;\x0A  margin: 0px 0 0 0;\x0A}\x0A\x0A.statnumbers {\x0A  padding: 2px 8px;\x0A}\x0A\x0A.fixtureresult {\x0A  width: 100px;\x0A  text-align: center;\x0A  display: block;\x0A  float: left;\x0A  font-weight: bold;\x0A  padding: 1px;\x0A  margin: 0 0 0 0;\x0A}\x0A\x0A.testoutput {\x0A  border: 1px dashed #CCCCCC;\x0A  margin: 4px 0 0 0;\x0A  padding: 4px 8px;\x0A  background-color: #eeeeee;\x0A}\x0A\x0Aspan.tracepos, span.traceposempty {\x0A  display: block;\x0A  float: left;\x0A  font-weight: bold;\x0A  font-size: 9px;\x0A  width: 170px;\x0A  margin: 2px 0 0 2px;\x0A}\x0A\x0Aspan.tracepos:hover {\x0A  cursor : pointer;\x0A  background-color: #ffff99;\x0A}\x0A\x0Aspan.tracemsg {\x0A  display: block;\x0A  margin-left: 180px;\x0A  background-color: #eeeeee;\x0A  padding: 7px;\x0A}\x0A\x0Aspan.tracetime {\x0A  display: block;\x0A  float: right;\x0A  margin: 2px;\x0A  font-size: 9px;\x0A  color: #777777;\x0A}\x0A\x0A\x0Adiv.trace ol {\x0A  padding: 0 0 0 40px;\x0A  color: #777777;\x0A}\x0A\x0Adiv.trace li {\x0A  padding: 0;\x0A}\x0A\x0Adiv.trace li div.li {\x0A  color: #000000;\x0A}\x0A\x0Adiv.trace h2 {\x0A  margin: 0 2px 0px 2px;\x0A  padding-left: 4px;\x0A}\x0A\x0A.tracepackage {\x0A  color: #777777;\x0A  font-weight: normal;\x0A}\x0A\x0A.clr {\x0A  clear: both;\x0A}\x0A\x0A#utesttip {\x0A  margin-top: -3px;\x0A  margin-left: 170px;\x0A  font-size: 9px;\x0A}\x0A\x0A#utesttip li {\x0A  margin: 0;\x0A  background-color: #ffff99;\x0A  padding: 2px 4px;\x0A  border: 0;\x0A  border-bottom: 1px dashed #ffff33;\x0A}";
	}

	/**
	 * @param \Array_hx $stack
	 * @param bool $addNL
	 * 
	 * @return string
	 */
	public function formatStack ($stack, $addNL = true) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:140: lines 140-164
		if ($addNL === null) {
			$addNL = true;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:141: characters 5-20
		$parts = new \Array_hx();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:142: characters 5-32
		$nl = ($addNL ? "\x0A" : "");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:143: characters 5-21
		$last = null;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:144: characters 5-19
		$count = 1;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:145: lines 145-160
		$_g = 0;
		$_g1 = HxString::split(CallStack::toString($stack), "\x0A");
		while ($_g < $_g1->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:145: characters 10-14
			$part = ($_g1->arr[$_g] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:145: lines 145-160
			++$_g;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:146: lines 146-147
			if (trim($part) === "") {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:147: characters 9-17
				continue;
			}
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:148: lines 148-149
			if (-1 < HxString::indexOf($part, "Called from utest.")) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:149: characters 9-17
				continue;
			}
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:154: lines 154-159
			if ($part === $last) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:155: characters 9-65
				$parts[$parts->length - 1] = ($part??'null') . " (#" . (++$count??'null') . ")";
			} else {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:157: characters 9-18
				$count = 1;
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:158: characters 20-31
				$last = $part;
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:158: characters 9-32
				$parts->arr[$parts->length] = $part;
				++$parts->length;

			}
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:163: characters 5-37
		return "<div>" . (("<ul><li>" . ($parts->join("</li>" . ($nl??'null') . "<li>")??'null') . "</li></ul>" . ($nl??'null'))??'null') . "</div>" . ($nl??'null');
	}

	/**
	 * @param float $t
	 * 
	 * @return string
	 */
	public function formatTime ($t) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:461: characters 5-40
		return ((int)(floor($t * 1000 + 0.5))??'null') . " ms";
	}

	/**
	 * @return string
	 */
	public function getAll () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:424: lines 424-427
		if (!ReportTools::hasOutput($this, $this->result->stats)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:425: characters 7-16
			return "";
		} else {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:427: characters 7-53
			return ($this->getHeader()??'null') . ($this->getTrace()??'null') . ($this->getResults()??'null');
		}
	}

	/**
	 * @param mixed $e
	 * 
	 * @return string
	 */
	public function getErrorDescription ($e) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:226: characters 5-25
		return \Std::string($e);
	}

	/**
	 * @param \Array_hx $s
	 * @param mixed $e
	 * 
	 * @return string
	 */
	public function getErrorStack ($s, $e) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:249: characters 5-26
		return $this->formatStack($s);
	}

	/**
	 * @return string
	 */
	public function getHeader () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:368: characters 5-31
		$buf = new \StringBuf();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:369: lines 369-370
		if (!ReportTools::hasHeader($this, $this->result->stats)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:370: characters 7-16
			return "";
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:373: characters 5-51
		$time = (int)(((microtime(true) - $this->startTime) * 1000)) / 1000;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:374: characters 5-25
		$msg = "TEST OK";
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:375: lines 375-380
		if ($this->result->stats->hasErrors) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:376: characters 7-26
			$msg = "TEST ERRORS";
		} else if ($this->result->stats->hasFailures) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:378: characters 7-26
			$msg = "TEST FAILED";
		} else if ($this->result->stats->hasWarnings) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:380: characters 7-31
			$msg = "WARNING REPORTED";
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:382: characters 5-81
		$buf->add("<h1 class=\"" . ($this->cls($this->result->stats)??'null') . "bg header\">" . ($msg??'null') . "</h1>\x0A");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:383: characters 5-40
		$buf->add("<div class=\"headerinfo\">");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:385: characters 5-37
		$this->resultNumbers($buf, $this->result->stats);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:386: characters 5-123
		$buf->add(" performed on <strong>" . (HtmlReport::$platform??'null') . "</strong>, executed in <strong> " . ($time??'null') . " sec. </strong></div >\x0A ");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:387: characters 5-26
		return $buf->b;
	}

	/**
	 * @param string $title
	 * 
	 * @return string
	 */
	public function getHtml ($title = null) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:431: lines 431-432
		if (null === $title) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:432: characters 7-35
			$title = "utest: " . (HtmlReport::$platform??'null');
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:433: characters 5-22
		$s = $this->getAll();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:434: lines 434-437
		if ("" === $s) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:435: characters 7-16
			return "";
		} else {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:437: characters 7-32
			return $this->wrapHtml($title, $s);
		}
	}

	/**
	 * @return string
	 */
	public function getResults () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:418: characters 5-31
		$buf = new \StringBuf();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:419: characters 5-48
		$this->addPackages($buf, $this->result, $this->result->stats->isOk);
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:420: characters 5-26
		return $buf->b;
	}

	/**
	 * @return string
	 */
	public function getTextResults () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:289: characters 5-24
		$newline = "\x0A";
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:290: lines 290-292
		$indents = function ($count) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:291: characters 14-40
			$_g = new \Array_hx();
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:291: characters 15-39
			$_g1 = 0;
			while ($_g1 < $count) {
				++$_g1;
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:291: characters 35-39
				$_g->arr[$_g->length] = "  ";
				++$_g->length;

			}

			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:291: characters 7-49
			return $_g->join("");
		};
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:293: lines 293-303
		$dumpStack = function ($stack)  use (&$newline) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:294: lines 294-295
			if ($stack->length === 0) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:295: characters 9-18
				return "";
			}
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:296: lines 296-297
			$parts = HxString::split(CallStack::toString($stack), "\x0A");
			$r = new \Array_hx();
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:298: lines 298-301
			$_g2 = 0;
			while ($_g2 < $parts->length) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:298: characters 12-16
				$part = ($parts->arr[$_g2] ?? null);
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:298: lines 298-301
				++$_g2;
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:299: characters 9-51
				if (HxString::indexOf($part, " utest.") >= 0) {
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:299: characters 43-51
					continue;
				}
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:300: characters 9-21
				$r->arr[$r->length] = $part;
				++$r->length;

			}

			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:302: characters 7-29
			return $r->join($newline);
		};
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:304: characters 5-31
		$buf = new \StringBuf();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:305: lines 305-362
		$_g3 = 0;
		$_g11 = $this->result->packageNames();
		while ($_g3 < $_g11->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:305: characters 9-14
			$pname = ($_g11->arr[$_g3] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:305: lines 305-362
			++$_g3;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:306: characters 7-43
			$pack = $this->result->getPackage($pname);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:307: characters 7-67
			if (ReportTools::skipResult($this, $pack->stats, $this->result->stats->isOk)) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:307: characters 59-67
				continue;
			}
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:308: lines 308-361
			$_g4 = 0;
			$_g12 = $pack->classNames();
			while ($_g4 < $_g12->length) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:308: characters 11-16
				$cname = ($_g12->arr[$_g4] ?? null);
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:308: lines 308-361
				++$_g4;
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:309: characters 9-40
				$cls = $pack->getClass($cname);
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:310: characters 9-68
				if (ReportTools::skipResult($this, $cls->stats, $this->result->stats->isOk)) {
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:310: characters 60-68
					continue;
				}
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:311: characters 9-62
				$buf->add(((($pname === "" ? "" : ($pname??'null') . "."))??'null') . ($cname??'null') . ($newline??'null'));
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:312: lines 312-360
				$_g5 = 0;
				$_g13 = $cls->methodNames();
				while ($_g5 < $_g13->length) {
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:312: characters 13-18
					$mname = ($_g13->arr[$_g5] ?? null);
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:312: lines 312-360
					++$_g5;
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:313: characters 11-36
					$fix = $cls->get($mname);
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:314: characters 11-70
					if (ReportTools::skipResult($this, $fix->stats, $this->result->stats->isOk)) {
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:314: characters 62-70
						continue;
					}
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:315: characters 11-41
					$buf->add(($indents(1)??'null') . ($mname??'null') . ": ");
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:316: lines 316-324
					if ($fix->stats->isOk) {
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:317: characters 13-27
						$buf->add("OK ");
					} else if ($fix->stats->hasErrors) {
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:319: characters 13-30
						$buf->add("ERROR ");
					} else if ($fix->stats->hasFailures) {
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:321: characters 13-32
						$buf->add("FAILURE ");
					} else if ($fix->stats->hasWarnings) {
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:323: characters 13-32
						$buf->add("WARNING ");
					}
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:325: characters 11-29
					$messages = "";
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:326: lines 326-357
					$_g6 = $fix->iterator();
					while ($_g6->head !== null) {
						$val = $_g6->head->item;
						$_g6->head = $_g6->head->next;
						#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:327: lines 327-356
						$__hx__switch = ($val->index);
						if ($__hx__switch === 0) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:329: characters 17-29
							$buf->add(".");
						} else if ($__hx__switch === 1) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:331: characters 17-29
							$buf->add("F");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:332: characters 17-88
							$messages = ($messages??'null') . ($indents(2)??'null') . "line: " . ($val->params[1]->lineNumber??'null') . ", " . ($val->params[0]??'null') . ($newline??'null');
						} else if ($__hx__switch === 2) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:334: characters 17-29
							$buf->add("E");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:335: characters 17-79
							$messages = ($messages??'null') . ($indents(2)??'null') . (\Std::string($val->params[0])??'null') . ($dumpStack($val->params[1])??'null') . ($newline??'null');
						} else if ($__hx__switch === 3) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:337: characters 17-29
							$buf->add("S");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:338: characters 17-79
							$messages = ($messages??'null') . ($indents(2)??'null') . (\Std::string($val->params[0])??'null') . ($dumpStack($val->params[1])??'null') . ($newline??'null');
						} else if ($__hx__switch === 4) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:340: characters 17-29
							$buf->add("T");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:341: characters 17-79
							$messages = ($messages??'null') . ($indents(2)??'null') . (\Std::string($val->params[0])??'null') . ($dumpStack($val->params[1])??'null') . ($newline??'null');
						} else if ($__hx__switch === 5) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:343: characters 17-29
							$buf->add("O");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:344: characters 17-103
							$messages = ($messages??'null') . ($indents(2)??'null') . "missed async calls: " . ($val->params[0]??'null') . ($dumpStack($val->params[1])??'null') . ($newline??'null');
						} else if ($__hx__switch === 6) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:346: characters 17-29
							$buf->add("A");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:347: characters 17-79
							$messages = ($messages??'null') . ($indents(2)??'null') . (\Std::string($val->params[0])??'null') . ($dumpStack($val->params[1])??'null') . ($newline??'null');
						} else if ($__hx__switch === 7) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:349: characters 17-29
							$buf->add("W");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:350: characters 17-54
							$messages = ($messages??'null') . ($indents(2)??'null') . ($val->params[0]??'null') . ($newline??'null');
						} else if ($__hx__switch === 8) {
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:351: characters 27-33
							$reason = $val->params[0];
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:352: characters 17-29
							$buf->add("I");
							#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:353: lines 353-355
							if (($reason !== null) && ($reason !== "")) {
								#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:354: characters 19-78
								$messages = ($messages??'null') . ($indents(2)??'null') . (("With reason: " . ($reason??'null'))??'null') . ($newline??'null');
							}

						}
					}

					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:358: characters 11-27
					$buf->add($newline);
					#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:359: characters 11-28
					$buf->add($messages);
				}

			}

		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:363: characters 5-26
		return $buf->b;
	}

	/**
	 * @return string
	 */
	public function getTrace () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:391: characters 5-31
		$buf = new \StringBuf();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:392: lines 392-393
		if (($this->_traces === null) || ($this->_traces->length === 0)) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:393: characters 7-16
			return "";
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:394: characters 5-54
		$buf->add("<div class=\"trace\"><h2>traces</h2><ol>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:395: lines 395-412
		$_g = 0;
		$_g1 = $this->_traces;
		while ($_g < $_g1->length) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:395: characters 10-11
			$t = ($_g1->arr[$_g] ?? null);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:395: lines 395-412
			++$_g;
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:396: characters 7-38
			$buf->add("<li><div class=\"li\">");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:397: characters 7-80
			$stack = \StringTools::replace($this->formatStack($t->stack, false), "'", "\\'");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:398: characters 7-141
			$method = "<span class=\"tracepackage\">" . ($t->infos->className??'null') . "</span><br/>" . ($t->infos->methodName??'null') . "(" . ($t->infos->lineNumber??'null') . ")";
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:399: characters 7-138
			$buf->add("<span class=\"tracepos\" onmouseover=\"utestTooltip(this.parentNode, '" . ($stack??'null') . "')\" onmouseout=\"utestRemoveTooltip()\">");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:400: characters 7-22
			$buf->add($method);
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:403: characters 7-49
			$buf->add("</span><span class=\"tracetime\">");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:404: characters 7-41
			$buf->add("@ " . ($this->formatTime($t->time)??'null'));
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:405: lines 405-406
			if ((int)(floor($t->delta * 1000 + 0.5)) > 0) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:406: characters 9-45
				$buf->add(", ~" . ($this->formatTime($t->delta)??'null'));
			}
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:408: characters 7-48
			$buf->add("</span><span class=\"tracemsg\">");
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:409: characters 7-77
			$buf->add(\StringTools::replace(trim($t->msg), "\x0A", "<br/>\x0A"));
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:411: characters 7-59
			$buf->add("</span><div class=\"clr\"></div></div></li>");
		}

		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:413: characters 5-27
		$buf->add("</ol></div>");
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:414: characters 5-26
		return $buf->b;
	}

	/**
	 * @return string
	 */
	public function jsScript () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:672: lines 672-701
		return "function utestTooltip(ref, text) {\x0A  var el = document.getElementById(\"utesttip\");\x0A  if(!el) {\x0A    var el = document.createElement(\"div\")\x0A    el.id = \"utesttip\";\x0A    el.style.position = \"absolute\";\x0A    document.body.appendChild(el)\x0A  }\x0A  var p = utestFindPos(ref);\x0A  el.style.left = (4 + p[0]) + \"px\";\x0A  el.style.top = (p[1] - 1) + \"px\";\x0A  el.innerHTML =  text;\x0A}\x0A\x0Afunction utestFindPos(el) {\x0A  var left = 0;\x0A  var top = 0;\x0A  do {\x0A    left += el.offsetLeft;\x0A    top += el.offsetTop;\x0A  } while(el = el.offsetParent)\x0A  return [left, top];\x0A}\x0A\x0Afunction utestRemoveTooltip() {\x0A  var el = document.getElementById(\"utesttip\")\x0A  if(el)\x0A    document.body.removeChild(el)\x0A}";
	}

	/**
	 * @return void
	 */
	public function redirectTrace () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:59: lines 59-60
		if ($this->traceRedirected) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:60: characters 7-13
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:61: characters 5-17
		$this->_traces = new \Array_hx();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:62: characters 5-30
		$this->oldTrace = Log::$trace;
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:63: characters 5-28
		Log::$trace = Boot::getInstanceClosure($this, '_trace');
	}

	/**
	 * @return void
	 */
	public function restoreTrace () {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:67: lines 67-68
		if (!$this->traceRedirected) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:68: characters 7-13
			return;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:69: characters 5-30
		Log::$trace = $this->oldTrace;
	}

	/**
	 * @param \StringBuf $buf
	 * @param ResultStats $stats
	 * 
	 * @return void
	 */
	public function resultNumbers ($buf, $stats) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:102: characters 5-22
		$numbers = new \Array_hx();
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:103: lines 103-106
		if ($stats->assertations === 1) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:104: characters 7-46
			$numbers->arr[$numbers->length] = "<strong>1</strong> test";
			++$numbers->length;
		} else {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:106: characters 7-72
			$numbers->arr[$numbers->length] = "<strong>" . ($stats->assertations??'null') . "</strong> tests";
			++$numbers->length;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:108: lines 108-114
		if ($stats->successes !== $stats->assertations) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:110: lines 110-113
			if ($stats->successes === 1) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:111: characters 9-48
				$numbers->arr[$numbers->length] = "<strong>1</strong> pass";
				++$numbers->length;
			} else if ($stats->successes > 0) {
				#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:113: characters 9-72
				$numbers->arr[$numbers->length] = "<strong>" . ($stats->successes??'null') . "</strong> passes";
				++$numbers->length;
			}
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:116: lines 116-119
		if ($stats->errors === 1) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:117: characters 7-47
			$numbers->arr[$numbers->length] = "<strong>1</strong> error";
			++$numbers->length;
		} else if ($stats->errors > 0) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:119: characters 7-67
			$numbers->arr[$numbers->length] = "<strong>" . ($stats->errors??'null') . "</strong> errors";
			++$numbers->length;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:121: lines 121-124
		if ($stats->failures === 1) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:122: characters 7-49
			$numbers->arr[$numbers->length] = "<strong>1</strong> failure";
			++$numbers->length;
		} else if ($stats->failures > 0) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:124: characters 7-71
			$numbers->arr[$numbers->length] = "<strong>" . ($stats->failures??'null') . "</strong> failures";
			++$numbers->length;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:126: lines 126-129
		if ($stats->warnings === 1) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:127: characters 7-49
			$numbers->arr[$numbers->length] = "<strong>1</strong> warning";
			++$numbers->length;
		} else if ($stats->warnings > 0) {
			#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:129: characters 7-71
			$numbers->arr[$numbers->length] = "<strong>" . ($stats->warnings??'null') . "</strong> warnings";
			++$numbers->length;
		}
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:131: characters 5-32
		$buf->add($numbers->join(", "));
	}

	/**
	 * @param \Closure $handler
	 * 
	 * @return void
	 */
	public function setHandler ($handler) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:56: characters 5-27
		$this->handler = $handler;
	}

	/**
	 * @param Runner $e
	 * 
	 * @return void
	 */
	public function start ($e) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:88: characters 5-30
		$this->startTime = microtime(true);
	}

	/**
	 * @param string $title
	 * @param string $s
	 * 
	 * @return string
	 */
	public function wrapHtml ($title, $s) {
		#/Users/ut/haxe/haxe_libraries/utest/1.9.5/github/aca590b256e0879cd7fbfcd47ca4f3a0a0ce1845/src/utest/ui/text/HtmlReport.hx:704: lines 704-708
		return "<head>\x0A<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />\x0A<title>" . ($title??'null') . "</title>\x0A      <style type=\"text/css\">" . ($this->cssStyle()??'null') . "</style>\x0A      <script type=\"text/javascript\">\x0A" . ($this->jsScript()??'null') . "\x0A</" . "script>\x0A</head>\x0A      <body>\x0A" . ($s??'null') . "\x0A</body>\x0A</html>";
	}
}

Boot::registerClass(HtmlReport::class, 'utest.ui.text.HtmlReport');
